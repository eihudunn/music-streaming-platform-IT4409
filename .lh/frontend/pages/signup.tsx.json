{
    "sourceFile": "frontend/pages/signup.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1717471124659,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1717471132604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,9 +137,9 @@\n         <div className=\"w-full border border-solid border-gray-300\"></div>\r\n         <div className=\"my-6 font-semibold text-lg\">\r\n           Already have an account?\r\n         </div>\r\n-        <div className=\"border border-gray-500 text-gray-500 w-full flex items-center justify-center py-4 rounded-full font-bold bg-gray-50\">\r\n+        <div className=\"border border-gray-500 text-gray-500 w-full flex items-center justify-center py-4 rounded-full font-bold bg-gray-500\">\r\n           <Link href=\"/login\">LOG IN INSTEAD</Link>\r\n         </div>\r\n       </div>\r\n     </div>\r\n"
                },
                {
                    "date": 1717471150657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,9 +137,9 @@\n         <div className=\"w-full border border-solid border-gray-300\"></div>\r\n         <div className=\"my-6 font-semibold text-lg\">\r\n           Already have an account?\r\n         </div>\r\n-        <div className=\"border border-gray-500 text-gray-500 w-full flex items-center justify-center py-4 rounded-full font-bold bg-\">\r\n+        <div className=\"border border-gray-500 text-gray-500 w-full flex items-center justify-center py-4 rounded-full font-bold bg-neut\">\r\n           <Link href=\"/login\">LOG IN INSTEAD</Link>\r\n         </div>\r\n       </div>\r\n     </div>\r\n"
                }
            ],
            "date": 1717471124659,
            "name": "Commit-0",
            "content": "'use client';\r\n\r\nimport { Icon } from '@iconify/react';\r\nimport TextInput from '@/components/auth/TextInput';\r\nimport PasswordInput from '@/components/auth/PasswordInput';\r\nimport Link from 'next/link';\r\nimport { use, useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst SignupComponent = () => {\r\n  const [data, setData] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [confirmEmail, setConfirmEmail] = useState('');\r\n  const [isEmailNotMatch, setIsEmailNotMatch] = useState(false);\r\n\r\n  const handleSignUp = async () => {\r\n    const { username, email, password } = data;\r\n\r\n    // Check if all fields are filled\r\n    if (!username || !email || !password || !confirmEmail) {\r\n      toast.error('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    // Check if email is valid\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      toast.error('Please enter a valid email');\r\n      return;\r\n    }\r\n\r\n    // Check if emails match\r\n    if (email !== confirmEmail) {\r\n      toast.error('Emails do not match');\r\n      return;\r\n    }\r\n\r\n    // Check if password is strong\r\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\r\n    if (!passwordRegex.test(password)) {\r\n      toast.error(\r\n        'Password should be minimum eight characters, at least one uppercase letter, one lowercase letter and one number',\r\n      );\r\n      return;\r\n    }\r\n\r\n    // If all checks pass, make the API call\r\n    try {\r\n      const register = await axios.post(\r\n        'http://localhost:3000/api/register',\r\n        data,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        },\r\n      );\r\n      toast.success('Account Created Successfully');\r\n      console.log(register);\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error('Account Creation Failed');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsEmailNotMatch(data.email !== confirmEmail);\r\n  }, [data.email, confirmEmail]);\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex flex-col items-center\">\r\n      <div className=\"logo p-5 border-b border-solid border-gray-300 w-full flex justify-center\">\r\n        <Link href=\"/\">\r\n          <Icon icon=\"logos:spotify\" width=\"150\" />\r\n        </Link>\r\n      </div>\r\n      <div className=\"inputRegion w-1/3 py-10 flex items-center justify-center flex-col\">\r\n        <div className=\"font-bold mb-4 text-2xl\">\r\n          Sign up for free to start listening.\r\n        </div>\r\n        <TextInput\r\n          label=\"Email address\"\r\n          placeholder=\"Enter your email\"\r\n          className=\"my-6\"\r\n          value={data.email}\r\n          onChange={(e) => {\r\n            setData({ ...data, email: e.target.value });\r\n          }}\r\n        />\r\n        <TextInput\r\n          label=\"Confirm Email Address\"\r\n          placeholder=\"Enter your email again\"\r\n          className=\"mb-6\"\r\n          value={confirmEmail}\r\n          onChange={(e) => setConfirmEmail(e.target.value)}\r\n        />\r\n        {isEmailNotMatch && (\r\n          <div className=\"text-red-500 justify-start\">Emails do not match</div>\r\n        )}\r\n        <TextInput\r\n          label=\"Username\"\r\n          placeholder=\"Enter your username\"\r\n          className=\"mb-6\"\r\n          value={data.username}\r\n          onChange={(e) => setData({ ...data, username: e.target.value })}\r\n        />\r\n        <PasswordInput\r\n          label=\"Create Password\"\r\n          placeholder=\"Enter a strong password here\"\r\n          value={data.password}\r\n          onChange={(e) => setData({ ...data, password: e.target.value })}\r\n        />\r\n        <div className=\"w-full flex justify-between items-center space-x-8\">\r\n          <TextInput\r\n            label=\"First Name\"\r\n            placeholder=\"Enter Your First Name\"\r\n            className=\"my-6\"\r\n          />\r\n          <TextInput\r\n            label=\"Last Name\"\r\n            placeholder=\"Enter Your Last Name\"\r\n            className=\"my-6\"\r\n          />\r\n        </div>\r\n        <div className=\" w-full flex items-center justify-center my-8\">\r\n          <button\r\n            className=\"bg-[#1ed760] w-full font-semibold p-3 px-10 rounded-full\"\r\n            onClick={handleSignUp}\r\n          >\r\n            Sign Up\r\n          </button>\r\n        </div>\r\n        <div className=\"w-full border border-solid border-gray-300\"></div>\r\n        <div className=\"my-6 font-semibold text-lg\">\r\n          Already have an account?\r\n        </div>\r\n        <div className=\"border border-gray-500 text-gray-500 w-full flex items-center justify-center py-4 rounded-full font-bold bg-gray\">\r\n          <Link href=\"/login\">LOG IN INSTEAD</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupComponent;\r\n"
        }
    ]
}