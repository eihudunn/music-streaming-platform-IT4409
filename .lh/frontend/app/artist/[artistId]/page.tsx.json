{
    "sourceFile": "frontend/app/artist/[artistId]/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1717458842952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1717458853779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,9 +109,9 @@\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                 </Header>\r\n-                <PageBreak type={LibraryType.Artist} id={} />\r\n+                <PageBreak type={LibraryType.Artist} id={artistId} />\r\n                 <div className=\"\">\r\n                   <h1 className=\"text-2xl font-bold mx-4\">Popular</h1>\r\n                   <ArtistContent songs={songs} />\r\n                 </div>\r\n"
                },
                {
                    "date": 1717459001866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,8 @@\n import Header from '@/components/Header';\r\n import Image from 'next/image';\r\n import { useParams } from 'next/navigation';\r\n import React, { useEffect, useState } from 'react';\r\n-import LikedContent from '@/app/liked/components/LikedContent';\r\n import PageBreak from '@/components/PageBreak';\r\n import { UserDto } from '@/scheme/User';\r\n import getUserById from '@/actions/user/getUserById';\r\n import { LibraryType } from '@/const/libraryType';\r\n"
                },
                {
                    "date": 1717459155717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,9 +108,9 @@\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                 </Header>\r\n-                <PageBreak type={LibraryType.Artist} id={artistId} />\r\n+                <PageBreak type={LibraryType.Artist} id={artistId} song={} />\r\n                 <div className=\"\">\r\n                   <h1 className=\"text-2xl font-bold mx-4\">Popular</h1>\r\n                   <ArtistContent songs={songs} />\r\n                 </div>\r\n"
                },
                {
                    "date": 1717461662773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n                       <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                         <Image\r\n                           fill\r\n                           sizes=\"240\"\r\n-                          src={data?.avatarImg as string}\r\n+                          src={data?.avatarImg as string }\r\n                           alt={data?.username as string}\r\n                           className=\"object-cover\"\r\n                         />\r\n                       </div>\r\n@@ -108,9 +108,13 @@\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                 </Header>\r\n-                <PageBreak type={LibraryType.Artist} id={artistId} song={} />\r\n+                <PageBreak\r\n+                  type={LibraryType.Artist}\r\n+                  id={artistId}\r\n+                  songs={songs}\r\n+                />\r\n                 <div className=\"\">\r\n                   <h1 className=\"text-2xl font-bold mx-4\">Popular</h1>\r\n                   <ArtistContent songs={songs} />\r\n                 </div>\r\n"
                },
                {
                    "date": 1717461668242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n                       <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                         <Image\r\n                           fill\r\n                           sizes=\"240\"\r\n-                          src={data?.avatarImg as string }\r\n+                          src={data?.avatarImg as string ? data?.avatarImg : '/images/default-avatar.png'}\r\n                           alt={data?.username as string}\r\n                           className=\"object-cover\"\r\n                         />\r\n                       </div>\r\n"
                },
                {
                    "date": 1717461686693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n                       <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                         <Image\r\n                           fill\r\n                           sizes=\"240\"\r\n-                          src={data?.avatarImg as string ? data?.avatarImg : '/images/default-avatar.png'}\r\n+                          src={data?.avatarImg as string ? data?.avatarImg : '/images/default.png'}\r\n                           alt={data?.username as string}\r\n                           className=\"object-cover\"\r\n                         />\r\n                       </div>\r\n"
                },
                {
                    "date": 1717461698175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n                       <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                         <Image\r\n                           fill\r\n                           sizes=\"240\"\r\n-                          src={data?.avatarImg as string ? data?.avatarImg : '/images/default.png'}\r\n+                          src={data?.avatarImg ? data?.avatarImg : '/images/default.png'}\r\n                           alt={data?.username as string}\r\n                           className=\"object-cover\"\r\n                         />\r\n                       </div>\r\n"
                },
                {
                    "date": 1717461703851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n                       <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                         <Image\r\n                           fill\r\n                           sizes=\"240\"\r\n-                          src={data?.avatarImg ? data?.avatarImg : '/images/default.png'}\r\n+                          src={data?.avatarImg ? (data?.avatarImg() : '/images/default.png'}\r\n                           alt={data?.username as string}\r\n                           className=\"object-cover\"\r\n                         />\r\n                       </div>\r\n"
                },
                {
                    "date": 1717461710895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n                       <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                         <Image\r\n                           fill\r\n                           sizes=\"240\"\r\n-                          src={data?.avatarImg ? (data?.avatarImg() : '/images/default.png'}\r\n+                          src={data?.avatarImg ? (data?.avatarImg as string) : '/images/default.png'}\r\n                           alt={data?.username as string}\r\n                           className=\"object-cover\"\r\n                         />\r\n                       </div>\r\n"
                },
                {
                    "date": 1717463060059,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,9 +106,9 @@\n                         <h1 className=\"text-white text-4xl sm:text-5xl lg:text-7xl font-extrabold\">\r\n                           {data?.username}\r\n                         </h1>\r\n                         <div className=\"flex items-center gap-x-2\">\r\n-                          <p className=\"text-white\">100 monthly listener</p>\r\n+                          <p className=\"text-white\"></p>\r\n                         </div>\r\n                       </div>\r\n                     </div>\r\n                   </div>\r\n"
                }
            ],
            "date": 1717458842952,
            "name": "Commit-0",
            "content": "'use client';\r\n\r\nimport { Palette } from 'color-thief-react';\r\nimport Header from '@/components/Header';\r\nimport Image from 'next/image';\r\nimport { useParams } from 'next/navigation';\r\nimport React, { useEffect, useState } from 'react';\r\nimport LikedContent from '@/app/liked/components/LikedContent';\r\nimport PageBreak from '@/components/PageBreak';\r\nimport { UserDto } from '@/scheme/User';\r\nimport getUserById from '@/actions/user/getUserById';\r\nimport { LibraryType } from '@/const/libraryType';\r\nimport ArtistContent from '@/components/ArtistContent';\r\nimport getSongByUserId from '@/actions/song/getSongByUserId';\r\nimport { Song } from '@/scheme/Song';\r\n\r\nconst ArtistDetail = () => {\r\n  const params = useParams<{ artistId: string }>();\r\n  const artistId = params?.artistId;\r\n  const [data, setData] = useState<UserDto | null>(null);\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        const user = await getUserById(artistId as string);\r\n        if (user) {\r\n          setData(user);\r\n        } else {\r\n          console.error('No user found');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error calling getUserById:', error);\r\n      }\r\n    };\r\n    if (artistId) {\r\n      getUser();\r\n    }\r\n  }, [artistId]);\r\n\r\n  const [songs, setSongs] = useState<Song[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchSongs = async () => {\r\n      try {\r\n        const songs = await getSongByUserId(artistId as string);\r\n        if (songs) {\r\n          setSongs(songs);\r\n        } else {\r\n          console.error('No songs found for this user');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error calling getSongByUserId:', error);\r\n      }\r\n    };\r\n\r\n    if (artistId) {\r\n      fetchSongs();\r\n    }\r\n  }, [artistId]);\r\n\r\n  return (\r\n    <>\r\n      {data && (\r\n        <Palette\r\n          src={data?.avatarImg as string}\r\n          crossOrigin=\"anonymous\"\r\n          format=\"hex\"\r\n          colorCount={3}\r\n        >\r\n          {({ data: imgColor, loading }) => {\r\n            console.log(imgColor);\r\n            if (loading) return <div>Loading...</div>;\r\n            let color;\r\n            if (imgColor) {\r\n              color = imgColor[0] > '#202020' ? imgColor[0] : imgColor[1];\r\n            } else {\r\n              color = '#05614C';\r\n            }\r\n            return (\r\n              <>\r\n                <Header\r\n                  title={data?.username as string}\r\n                  isContentDetail={true}\r\n                  style={{\r\n                    backgroundImage: `linear-gradient(to bottom, ${color} var(--tw-gradient-from-position), #191b1d var(--tw-gradient-from-position) )`,\r\n                  }}\r\n                >\r\n                  <div className=\"mt-5\">\r\n                    <div className=\"flex flex-col md:flex-row items-center gap-x-5\">\r\n                      <div className=\"relative h-44 w-44 lg:h-60 lg:w-60\">\r\n                        <Image\r\n                          fill\r\n                          sizes=\"240\"\r\n                          src={data?.avatarImg as string}\r\n                          alt={data?.username as string}\r\n                          className=\"object-cover\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex flex-col gap-y-2 mt-4 md:mt-0\">\r\n                        <p className=\"hidden md:block font-semibold text-lg\">\r\n                          Verified Artist\r\n                        </p>\r\n                        <h1 className=\"text-white text-4xl sm:text-5xl lg:text-7xl font-extrabold\">\r\n                          {data?.username}\r\n                        </h1>\r\n                        <div className=\"flex items-center gap-x-2\">\r\n                          <p className=\"text-white\">100 monthly listener</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Header>\r\n                <PageBreak type={LibraryType.Artist} id={} />\r\n                <div className=\"\">\r\n                  <h1 className=\"text-2xl font-bold mx-4\">Popular</h1>\r\n                  <ArtistContent songs={songs} />\r\n                </div>\r\n              </>\r\n            );\r\n          }}\r\n        </Palette>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ArtistDetail;\r\n"
        }
    ]
}